(function(){Zdog.types={Anchor:{},Group:{visible:!0},Rect:{backface:!0,color:"#333",fill:!1,height:1,stroke:1,visible:!0,width:1},RoundedRect:{backface:!0,color:"#333",cornerRadius:.25,fill:!1,height:1,stroke:1,visible:!0,width:1},Ellipse:{backface:!0,color:"#333",diameter:1,fill:!1,quarters:4,stroke:1,visible:!0},Polygon:{backface:!0,color:"#333",fill:!1,radius:.5,sides:3,stroke:1,visible:!0},Shape:{backface:!0,closed:!0,color:"#333",fill:!1,stroke:1,visible:!0},Hemisphere:{backface:!0,color:"#333",diameter:1,fill:!0,quarters:4,stroke:1,visible:!0},Cone:{backface:!0,color:"#333",diameter:1,fill:!0,length:1,stroke:1,visible:!0},Cylinder:{backface:!0,color:"#333",diameter:1,fill:!0,length:1,stroke:1,visible:!0},Box:{backface:!0,bottomFace:!0,color:"#333",depth:1,fill:!0,frontFace:!0,height:1,leftFace:!0,rearFace:!0,rightFace:!0,stroke:1,topFace:!0,visible:!0,width:1}},Zdog.importGraph=function(a,b){var c,d;return d={names:{},root:null},d.root=(c=(a,b)=>{var e,f,g;if(f=new Zdog[b.type]({...b,addTo:a}),b.name&&(f.name=b.name,d.names[f.name]=f),b.children){g=b.children;for(e of g)c(f,e)}return f})(a,b),d},Zdog.exportGraph=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(g in e={},j=Zdog.types,j)if(l=j[g],a.constructor===Zdog[g]){for(f in e.type=g,null!=a.name&&(e.name=a.name),l)i=l[f],a[f]!==i&&(e[f]=a[f]);if(({x:m,y:n,z:o}=a.translate),(m||n||o)&&(e.translate={},m&&(e.translate.x=m),n&&(e.translate.y=n),o&&(e.translate.z=o)),({x:m,y:n,z:o}=a.rotate),(m||n||o)&&(e.rotate={},m&&(e.rotate.x=m),n&&(e.rotate.y=n),o&&(e.rotate.z=o)),({x:m,y:n,z:o}=a.scale),(1!==m||1!==n||1!==o)&&(m===n&&n===o?e.scale=m:(e.scale={},1!==m&&(e.scale.x=m),1!==n&&(e.scale.y=n),1!==o&&(e.scale.z=o))),"Shape"===g&&a.path[0]&&Object.keys(a.path[0]).length){e.path=[],k=a.path;for(h of k)e.path.push(h.line?h.line:h)}break}if(e.type){d=[...a.children],"Cone"===e.type&&d.shift();for(b of d)(c=Zdog.exportGraph(b))&&(null==e.children&&(e.children=[]),e.children.push(c));return JSON.parse(JSON.stringify(e))}}}).call(this);
